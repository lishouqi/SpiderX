# SpiderX 更新日志 v2.0

## 更新日期
2026-01-17

---

## 一、闯关模式

### 1.1 关卡系统
- 新增5个关卡，难度递增
- 每关设有三档分数目标，对应1-3星评价

| 关卡 | 1星 | 2星 | 3星 | 炸弹率 | 速度倍率 |
|------|-----|-----|-----|--------|----------|
| 1    | 800 | 1500| 2500| 8%     | 1.0x     |
| 2    | 1200| 2000| 3200| 12%    | 1.15x    |
| 3    | 1600| 2800| 4200| 16%    | 1.3x     |
| 4    | 2000| 3500| 5000| 20%    | 1.45x    |
| 5    | 2500| 4200| 6000| 25%    | 1.6x     |

### 1.2 难度递增机制
- 关卡越高，炸弹出现概率越大
- 关卡越高，怪物移动速度越快

---

## 二、炸弹模式

### 2.1 炸弹机制
- 怪物中随机出现炸弹 💣
- 击中炸弹触发爆炸特效 💥
- 累计击中**2次炸弹**则游戏立即失败

### 2.2 生命显示
- 游戏界面顶部显示2颗心 ❤️
- 击中炸弹后对应心变灰

---

## 三、结束界面改进

### 3.1 信息展示
- 显示游戏结束原因（⏰时间到 / 💣炸弹爆炸）
- 显示获得星级（⭐）
- 显示各档分数要求及达成状态

### 3.2 模拟排行榜
- 生成8个模拟玩家分数（基于当前关卡分数范围）
- 玩家分数高亮显示
- 排名前三显示🥇🥈🥉

### 3.3 并行排版布局
- 左侧：分数+星级信息
- 右侧：排行榜
- 响应式设计，小屏自动堆叠

### 3.4 微动效果
| 元素 | 动画 | 说明 |
|------|------|------|
| 星级 | `float-anim` | 上下浮动 3s |
| 分数 | `scale-anim` | 呼吸缩放 2.5s |
| 排行榜 | `slide-anim` | 滑入+浮动 |
| 按钮 | `pulse-anim` | 脉冲缩放 2s |

---

## 四、开始界面改进

### 4.1 极简黑色风格
- 纯黑背景 `#000`
- 大字标题 "SPIDERX"（字重100，字距20px）
- 标题呼吸发光动画 `titleGlow`
- 摄像头画面半透明背景（opacity: 0.15）

### 4.2 手势解锁机制
- 页面加载即启动摄像头检测
- 实时绘制手部关键点
- 做出蜘蛛侠手势后显示 ✅ 成功提示
- 800ms后自动切换到关卡选择界面
- 解锁后停止检测摄像头

### 4.3 界面结构
```
┌─────────────────────────┐
│        SPIDERX          │  ← 发光标题
│                         │
│          🤟             │  ← 浮动手势图标
│   做出蛛蛛侠手势解锁     │
│   中指+无名指弯曲       │
│                         │
│   ● 等待手势...         │  ← 状态指示器
└─────────────────────────┘
          ↓ 解锁后
┌─────────────────────────┐
│        SPIDERX          │
│      选择关卡           │
│   [1] [2] [3] [4] [5]   │
│       第 1 关           │
│   ⚠️ 躲避炸弹警告       │
│     [开始游戏]          │
└─────────────────────────┘
```

---

## 五、文件改动清单

| 文件 | 改动内容 |
|------|----------|
| `game.js` | 关卡配置、炸弹逻辑、星级计算、排行榜生成、手势解锁 |
| `index.html` | 关卡选择UI、炸弹显示、星级显示、排行榜容器、新开始界面 |
| `styles.css` | 关卡按钮、炸弹特效、星级动画、排行榜样式、微动效果 |

---

## 六、技术细节

### 新增配置项
```javascript
const LEVELS = [
    { level: 1, star1: 800, star2: 1500, star3: 2500, bombRate: 0.08, speedMultiplier: 1.0 },
    // ...
];

const BOMB_TYPE = { emoji: '💣', points: 0, size: 55, isBomb: true };
```

### 新增状态
```javascript
gameState.currentLevel   // 当前关卡
gameState.bombHits       // 炸弹击中次数
gameState.stars          // 获得星数
gameState.gameOverReason // 结束原因 'time' | 'bomb'
```
