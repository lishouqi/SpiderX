# 蜘蛛侠捕怪大作战 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品名称
**蜘蛛侠捕怪大作战** (Spider-Man Monster Catcher)

### 1.2 产品定位
一款基于Web的体感互动游戏，灵感来源于《水果忍者》，将"切水果"玩法与蜘蛛侠主题结合，通过摄像头手势识别实现"发射蜘蛛丝"打怪物的交互体验。

### 1.3 核心创意
- **原型游戏**：水果忍者（挥手切水果）
- **主题改编**：蜘蛛侠场景
- **交互方式**：摄像头识别挥手动作 → 发射蜘蛛丝
- **目标对象**：随机出现的小怪物（替代水果）

---

## 2. 目标用户

| 用户类型 | 描述 |
|---------|------|
| 主要用户 | 喜欢休闲游戏的年轻人、蜘蛛侠粉丝 |
| 次要用户 | 体感游戏爱好者、亲子互动用户 |
| 使用场景 | PC浏览器、展会互动、线下活动 |

---

## 3. 核心功能需求

### 3.1 摄像头手势识别
| 功能点 | 描述 |
|--------|------|
| 摄像头调用 | 获取用户摄像头权限，实时捕获画面 |
| 手势检测 | 识别蜘蛛侠经典射丝手势（🤟 中指+无名指弯曲，拇指+食指+小指伸直） |
| 触发机制 | 检测到经典手势时触发"发射蜘蛛丝"动作 |

**蜘蛛侠经典手势说明：**
```
     🖐️ 手掌朝前
     
     👆 食指 - 伸直
     👇 中指 - 弯曲触碰掌心
     👇 无名指 - 弯曲触碰掌心  
     👆 小指 - 伸直
     👆 拇指 - 伸直（向内侧）
     
     形成类似 🤟 "我爱你"手势
```

### 3.2 游戏场景
| 功能点 | 描述 |
|--------|------|
| 背景 | 城市夜景/蜘蛛侠主题背景 |
| 怪物生成 | 屏幕随机位置生成各种小怪物 |
| 怪物类型 | 多种不同外观的怪物（可扩展） |
| 怪物移动 | 怪物从屏幕边缘飞入，有一定存活时间 |

### 3.3 蜘蛛丝发射系统
| 功能点 | 描述 |
|--------|------|
| 发射动画 | 从手势位置发射蜘蛛丝特效 |
| 丝线轨迹 | 蜘蛛丝向目标怪物方向延伸 |
| 碰撞检测 | 蜘蛛丝与怪物碰撞时触发击杀效果 |
| 击中特效 | 怪物被击中时播放消灭动画 |

### 3.4 计分系统
| 功能点 | 描述 |
|--------|------|
| 实时得分 | 屏幕显示当前得分 |
| 得分规则 | 每击中一个怪物获得相应分数 |
| 连击奖励 | 连续击中可获得额外加分（可选） |
| 最高分记录 | 本地存储历史最高分 |

---

## 4. 游戏流程

```
┌─────────────┐
│   开始界面   │
│  请求摄像头权限│
└──────┬──────┘
       ▼
┌─────────────┐
│   游戏进行中  │
│ • 怪物随机出现 │
│ • 识别挥手动作 │
│ • 发射蜘蛛丝   │
│ • 击中怪物得分 │
└──────┬──────┘
       ▼
┌─────────────┐
│   游戏结束   │
│  显示最终得分 │
│  重新开始按钮 │
└─────────────┘
```

---

## 5. 技术方案

### 5.1 技术栈
| 层级 | 技术选型 |
|------|---------|
| 前端框架 | HTML5 + CSS3 + JavaScript (或 React) |
| 手势识别 | MediaPipe Hands / TensorFlow.js |
| 游戏引擎 | Canvas API / Phaser.js |
| 动画特效 | CSS Animation / GSAP |
| 摄像头 | WebRTC (getUserMedia API) |

### 5.2 核心技术点
1. **手势识别**：使用 MediaPipe Hands 检测手部21个关键点，通过判断中指和无名指弯曲（指尖到掌心距离短）+ 食指、小指、拇指伸直来识别蜘蛛侠经典射丝手势
2. **碰撞检测**：计算蜘蛛丝轨迹与怪物位置的碰撞
3. **实时渲染**：Canvas 或 WebGL 渲染游戏画面

---

## 6. 界面设计要求

### 6.1 视觉风格
- 蜘蛛侠主题配色（红色、蓝色、黑色）
- 动感城市夜景背景
- 卡通风格怪物设计

### 6.2 UI 元素
| 元素 | 位置 | 描述 |
|------|------|------|
| 得分显示 | 右上角 | 实时显示当前分数 |
| 摄像头画面 | 全屏/半透明叠加 | 用户实时画面 |
| 怪物 | 随机位置 | 各种小怪物精灵 |
| 蜘蛛丝特效 | 动态生成 | 从手势位置发射 |

---

## 7. 扩展功能（后续版本）

| 优先级 | 功能 | 描述 |
|--------|------|------|
| P1 | 难度递增 | 随时间推移怪物出现更快 |
| P1 | 音效系统 | 发射音效、击中音效、背景音乐 |
| P2 | 怪物种类 | 不同怪物不同分值 |
| P2 | 道具系统 | 炸弹（清屏）、减速等道具 |
| P3 | 排行榜 | 在线排名系统 |
| P3 | 多人对战 | 双人PK模式 |

---

## 8. 验收标准

### MVP（最小可行产品）
- [ ] 成功调用摄像头
- [ ] 能够识别挥手/射丝手势
- [ ] 怪物随机出现在屏幕上
- [ ] 手势触发蜘蛛丝发射
- [ ] 蜘蛛丝击中怪物时怪物消失
- [ ] 实时显示得分
- [ ] 游戏结束显示最终得分

---

## 9. 项目里程碑

| 阶段 | 内容 | 预计时间 |
|------|------|---------|
| Phase 1 | 基础框架搭建 + 摄像头接入 | 1天 |
| Phase 2 | 手势识别集成 | 1天 |
| Phase 3 | 游戏核心逻辑（怪物生成、碰撞检测） | 1天 |
| Phase 4 | UI美化 + 特效动画 | 1天 |
| Phase 5 | 测试优化 + 部署上线 | 1天 |

---

## 10. 风险与注意事项

| 风险 | 应对方案 |
|------|---------|
| 手势识别准确率 | 提供灵敏度调节，优化识别阈值 |
| 浏览器兼容性 | 优先支持 Chrome，提供兼容性提示 |
| 性能问题 | 优化渲染帧率，降低手势检测频率 |
| 摄像头权限拒绝 | 提供友好提示，说明权限用途 |

---

*文档版本: v1.0*  
*创建日期: 2026-01-17*
